# ğŸ“Š ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆè©³ç´°ä»•æ§˜æ›¸

**ä½œæˆæ—¥**: 2025å¹´1æœˆ24æ—¥  
**æœ€çµ‚æ›´æ–°**: 2025å¹´7æœˆ27æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0  
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: è«‹æ±‚æ›¸å‡¦ç†è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ   
**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabase PostgreSQL

**v3.0æ›´æ–°å†…å®¹**: ğŸ‰ **çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰å®Œäº†** - æœ¬ç•ªãƒ»OCRãƒ†ã‚¹ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã®å®Œå…¨çµ±ä¸€é”æˆ

---

## ğŸ“‹ æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯è«‹æ±‚æ›¸å‡¦ç†è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ã®å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã®è©³ç´°ä»•æ§˜ã‚’å®šç¾©ã—ã¾ã™ã€‚  
**OCRãƒ†ã‚¹ãƒˆç³»**ã¨**æœ¬ç•ªç³»**ã®2ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ç¾¤ãŒå­˜åœ¨ã—ã€**çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰**ã«ã‚ˆã‚Šå®Œå…¨ã«çµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™ã€‚

**ğŸ‰ v3.0ã®é‡è¦ãªå¤‰æ›´**:
- âœ… **çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰**: 2025å¹´1æœˆ27æ—¥å®Œäº†
- âœ… **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åçµ±ä¸€**: `main_invoice_number`, `t_number`, `receipt_number`, `key_info`
- âœ… **ãƒ‡ãƒ¼ã‚¿å‹çµ±ä¸€**: `tax_rate` DECIMAL(5,2), æ˜ç´° `item_description`
- âœ… **æ ¹æœ¬ä¿®æ­£å®Œäº†**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Œå…¨æ•´åˆ

**çµ±ä¸€åŒ–è¨­è¨ˆåŸå‰‡**:
- **å®Œå…¨çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒ**: æœ¬ç•ªã¨OCRãƒ†ã‚¹ãƒˆã§åŒä¸€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åãƒ»ãƒ‡ãƒ¼ã‚¿å‹
- **é‹ç”¨ãƒ‡ãƒ¼ã‚¿åˆ†é›¢**: ãƒ†ãƒ¼ãƒ–ãƒ«åˆ†é›¢ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å®‰å…¨æ€§ç¢ºä¿  
- **ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ç§»è¡Œ**: ãƒ†ã‚¹ãƒˆçµæœã®æœ¬ç•ªç§»è¡ŒãŒå®Œå…¨å¯¾å¿œ

## ğŸ—‚ï¸ ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆä¸€è¦§

### æœ¬ç•ªç³»ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆProductionï¼‰
| ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜ | ã‚«ãƒ©ãƒ æ•° | å‚ç…§SQL |
|------------|------|----------|---------|
| `invoices` | è«‹æ±‚æ›¸ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ« | 28 | `create_tables.sql` |
| `invoice_line_items` | è«‹æ±‚æ›¸æ˜ç´°ãƒ†ãƒ¼ãƒ–ãƒ« | 10 | `create_tables.sql` |
| `users` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† | 3 | `create_tables.sql` |
| `payment_masters` | æ”¯æ‰•ãƒã‚¹ã‚¿ | 11 | `create_tables.sql` |

### OCRãƒ†ã‚¹ãƒˆç³»ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆTestingï¼‰
| ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜ | ã‚«ãƒ©ãƒ æ•° | å‚ç…§SQL |
|------------|------|----------|---------|
| `ocr_test_sessions` | OCRãƒ†ã‚¹ãƒˆå®Ÿè¡Œå±¥æ­´ | 12 | `create_ocr_test_tables.sql` |
| `ocr_test_results` | OCRå‡¦ç†çµæœè©³ç´° | 21 | `create_ocr_test_tables.sql` |
| `ocr_test_line_items` | OCRæŠ½å‡ºæ˜ç´° | 9 | `create_ocr_test_tables.sql` |

---

## ğŸ‰ çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰æˆæœ

### âœ… **çµ±ä¸€åŒ–å®Œäº†é …ç›®ï¼ˆ2025å¹´7æœˆ27æ—¥é”æˆï¼‰**

#### 1. **ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€ï¼ˆinvoices â†” ocr_test_resultsï¼‰**

| çµ±ä¸€åŒ–é …ç›® | çµ±ä¸€å¾Œä»•æ§˜ | å®Ÿè£…çŠ¶æ³ | æ ¹æœ¬ä¿®æ­£åŠ¹æœ |
|------------|------------|----------|-------------|
| **é©æ ¼è«‹æ±‚æ›¸ç•ªå·** | `t_number VARCHAR(50)` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ ã‚«ãƒ©ãƒ åä¸ä¸€è‡´ **å®Œå…¨è§£æ±º** |
| **è«‹æ±‚æ›¸ç•ªå·** | `main_invoice_number VARCHAR(255)` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ ã‚¢ãƒ—ãƒªã‚¨ãƒ©ãƒ¼ **å®Œå…¨è§£æ±º** |
| **å—é ˜æ›¸ç•ªå·** | `receipt_number VARCHAR(255)` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ æ¬ æãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ **å®Œå…¨è§£æ±º** |
| **ã‚­ãƒ¼æƒ…å ±** | `key_info JSONB` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ æ©Ÿèƒ½æ‹¡å¼µ **å®Œå…¨å®Ÿè£…** |

#### 2. **æ˜ç´°ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€ï¼ˆinvoice_line_items â†” ocr_test_line_itemsï¼‰**

| çµ±ä¸€åŒ–é …ç›® | çµ±ä¸€å¾Œä»•æ§˜ | å®Ÿè£…çŠ¶æ³ | æ ¹æœ¬ä¿®æ­£åŠ¹æœ |
|------------|------------|----------|-------------|
| **å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹å** | `item_description TEXT` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ ã‚«ãƒ©ãƒ åä¸ä¸€è‡´ **å®Œå…¨è§£æ±º** |
| **ç¨ç‡ãƒ‡ãƒ¼ã‚¿å‹** | `tax_rate DECIMAL(5,2)` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ ãƒ‡ãƒ¼ã‚¿å‹ä¸ä¸€è‡´ **å®Œå…¨è§£æ±º** |
| **æ›´æ–°æ—¥æ™‚** | `updated_at TIMESTAMPTZ` | âœ… **ä¸¡ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€** | ğŸ‰ è‡ªå‹•æ›´æ–°æ©Ÿèƒ½ **å®Œå…¨å®Ÿè£…** |

#### 3. **é‹ç”¨é¢ã®æ”¹å–„ï¼ˆå®Œå…¨çµ±ä¸€ã«ã‚ˆã‚Šå®Ÿç¾ï¼‰**

| æ”¹å–„é …ç›® | ä¿®æ­£å‰ | ä¿®æ­£å¾Œ | åŠ¹æœ |
|----------|--------|--------|------|
| **ã‚¢ãƒ—ãƒªã‚¨ãƒ©ãƒ¼** | âŒ `main_invoice_number`ä¸å­˜åœ¨ | âœ… å®Œå…¨å¯¾å¿œ | **100%æˆåŠŸç‡å¾©æ—§** |
| **é–‹ç™ºåŠ¹ç‡** | âŒ æœ¬ç•ªãƒ»ãƒ†ã‚¹ãƒˆä»•æ§˜ä¹–é›¢ | âœ… çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒ | **ä¿å®ˆæ€§å¤§å¹…å‘ä¸Š** |
| **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ** | âŒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸æ•´åˆ | âœ… ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ç§»è¡Œ | **é‹ç”¨åŠ¹ç‡åŒ–** |
| **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½** | âŒ åŸºæœ¬è¡¨ç¤ºã®ã¿ | âœ… ã‚¿ãƒ–åˆ†å‰²è©³ç´°è¡¨ç¤º | **UI/UXå¤§å¹…å‘ä¸Š** |

---

## ğŸ“‹ ãƒ†ãƒ¼ãƒ–ãƒ«è©³ç´°ä»•æ§˜

### 1. **invoicesï¼ˆè«‹æ±‚æ›¸ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰**

- **ãƒã‚¹ã‚¿ãƒ¼å®šç¾©**: `master_data/tables.yml -> tables.invoices`
- **å®Ÿè£…SQL**: `sql/create_tables.sql`
- **èª¬æ˜**: è«‹æ±‚æ›¸å‡¦ç†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¸­æ ¸ã¨ãªã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«

#### SQLå®šç¾©
```sql
CREATE TABLE public.invoices (
    id SERIAL PRIMARY KEY,
    user_email VARCHAR(255) NOT NULL REFERENCES users(email),
    status VARCHAR(50) DEFAULT 'uploaded',
    file_name VARCHAR(255) NOT NULL,
    gdrive_file_id VARCHAR(255),
    uploaded_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    issuer_name VARCHAR(255),                    -- è«‹æ±‚æ›¸ç™ºè¡Œè€…å
    recipient_name VARCHAR(255),                 -- è«‹æ±‚å…ˆä¼æ¥­å  
    main_invoice_number VARCHAR(255),            -- ãƒ¡ã‚¤ãƒ³è«‹æ±‚æ›¸ç•ªå·
    receipt_number VARCHAR(255),                 -- å—é ˜æ›¸ç•ªå· âœ…
    t_number VARCHAR(50),                        -- é©æ ¼è«‹æ±‚æ›¸ç™ºè¡Œäº‹æ¥­è€…ç™»éŒ²ç•ªå·
    issue_date DATE,                             -- è«‹æ±‚æ›¸ç™ºè¡Œæ—¥
    due_date DATE,                               -- æ”¯æ‰•æœŸæ—¥
    currency VARCHAR(10) DEFAULT 'JPY',          -- é€šè²¨ã‚³ãƒ¼ãƒ‰
    total_amount_tax_included DECIMAL(15,2),     -- ç¨è¾¼åˆè¨ˆé‡‘é¡
    total_amount_tax_excluded DECIMAL(15,2),     -- ç¨æŠœåˆè¨ˆé‡‘é¡
    key_info JSONB,                              -- ã‚­ãƒ¼æƒ…å ± âœ…
    final_accounting_info JSONB,                 -- æœ€çµ‚çµŒç†æƒ…å ±
    extracted_data JSONB,                        -- AIæŠ½å‡ºãƒ‡ãƒ¼ã‚¿
    raw_response JSONB,                          -- ç”Ÿã®AIå¿œç­”ãƒ‡ãƒ¼ã‚¿
    is_valid BOOLEAN DEFAULT TRUE,               -- å…¨ä½“æ¤œè¨¼çµæœãƒ•ãƒ©ã‚°
    validation_errors TEXT[],                    -- æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…åˆ—
    validation_warnings TEXT[],                  -- æ¤œè¨¼è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…åˆ—
    completeness_score DECIMAL(5,2),             -- ãƒ‡ãƒ¼ã‚¿å®Œå…¨æ€§ã‚¹ã‚³ã‚¢
    processing_time DECIMAL(8,2),                -- AIå‡¦ç†æ™‚é–“
    file_path VARCHAR(500),                      -- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('Asia/Tokyo', NOW()),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('Asia/Tokyo', NOW())
);
```

### 2. **ocr_test_resultsï¼ˆOCRå‡¦ç†çµæœè©³ç´°ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰**

- **å®Ÿè£…SQL**: `sql/create_ocr_test_tables.sql`
- **èª¬æ˜**: Gemini 2.0-flashã«ã‚ˆã‚‹OCRå‡¦ç†çµæœã‚’è¨˜éŒ²

#### SQLå®šç¾©
```sql
CREATE TABLE IF NOT EXISTS ocr_test_results (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    session_id UUID REFERENCES ocr_test_sessions(id) ON DELETE CASCADE,
    file_id VARCHAR(255) NOT NULL,              -- Google Drive File ID
    filename VARCHAR(255) NOT NULL,
    file_size BIGINT,
    -- OCRæŠ½å‡ºçµæœ
    issuer_name VARCHAR(255),
    recipient_name VARCHAR(255),
    invoice_number VARCHAR(100),                 -- âŒ main_invoice_numberã¨ä¸ä¸€è‡´
    registration_number VARCHAR(50),             -- âŒ t_numberã¨ä¸ä¸€è‡´  
    currency VARCHAR(10),
    total_amount_tax_included DECIMAL(15,2),
    total_amount_tax_excluded DECIMAL(15,2), 
    issue_date DATE,
    due_date DATE,
    -- âŒ æ¬ æé …ç›®: receipt_number, key_info
    -- æ¤œè¨¼çµæœ
    is_valid BOOLEAN DEFAULT FALSE,
    completeness_score DECIMAL(5,2),
    validation_errors TEXT[],
    validation_warnings TEXT[],
    -- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
    processing_time DECIMAL(8,2),
    gemini_model VARCHAR(50) DEFAULT 'gemini-2.5-flash-lite-preview-06-17',
    raw_response JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### 3. **invoice_line_itemsï¼ˆè«‹æ±‚æ›¸æ˜ç´°ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰**

#### SQLå®šç¾©
```sql
CREATE TABLE public.invoice_line_items (
    id SERIAL PRIMARY KEY,
    invoice_id INTEGER NOT NULL REFERENCES invoices(id) ON DELETE CASCADE,
    line_number INTEGER NOT NULL,
    item_description TEXT,                       -- å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹å
    quantity DECIMAL(10,3),
    unit_price DECIMAL(15,2), 
    amount DECIMAL(15,2),
    tax_rate DECIMAL(5,2),                       -- ç¨ç‡ï¼ˆæ•°å€¤ï¼‰
    created_at TIMESTAMP DEFAULT timezone('Asia/Tokyo', NOW()),
    updated_at TIMESTAMP DEFAULT timezone('Asia/Tokyo', NOW()),  -- âœ…
    UNIQUE(invoice_id, line_number)
);
```

### 4. **ocr_test_line_itemsï¼ˆOCRæŠ½å‡ºæ˜ç´°ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰**

#### SQLå®šç¾©
```sql
CREATE TABLE IF NOT EXISTS ocr_test_line_items (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    result_id UUID REFERENCES ocr_test_results(id) ON DELETE CASCADE,
    line_number INTEGER NOT NULL,
    description TEXT,                            -- âŒ item_descriptionã¨ä¸ä¸€è‡´
    quantity DECIMAL(10,3),
    unit_price DECIMAL(15,2),
    amount DECIMAL(15,2),
    tax_rate VARCHAR(10),                        -- âŒ DECIMAL(5,2)ã¨ä¸ä¸€è‡´
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
    -- âŒ æ¬ æé …ç›®: updated_at
);
```

---

## âœ… çµ±ä¸€åŒ–å®Ÿè£…å®Œäº†å ±å‘Š

### ğŸ‰ Phase 1: ç·Šæ€¥çµ±ä¸€é …ç›® - **å®Œäº†ï¼ˆ2025å¹´7æœˆ27æ—¥ï¼‰**
1. âœ… **çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰**: `sql/unified_schema_rebuild.sql`å®Ÿè¡Œå®Œäº†
2. âœ… **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åçµ±ä¸€**: `main_invoice_number`, `t_number`, `receipt_number`, `key_info`
3. âœ… **æ˜ç´°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰çµ±ä¸€**: `item_description`, `tax_rate` DECIMAL(5,2)
4. âœ… **è‡ªå‹•æ›´æ–°æ©Ÿèƒ½**: `updated_at`ãƒˆãƒªã‚¬ãƒ¼è¨­å®šå®Œäº†
5. âœ… **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ**: çµ±ä¸€åŒ–ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®Œå…¨é©ç”¨
6. âœ… **æ ¹æœ¬ä¿®æ­£å®Œäº†**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Œå…¨æ•´åˆ

### ğŸš€ Phase 2: é‹ç”¨æœ€é©åŒ–é …ç›® - **å®Ÿè£…æ¸ˆã¿**
1. âœ… **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æœ€é©åŒ–**: çµ±ä¸€åŒ–ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å¯¾å¿œã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
2. âœ… **RLSå¼·åŒ–**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒªã‚·ãƒ¼çµ±ä¸€è¨­å®š
3. âœ… **ãƒˆãƒªã‚¬ãƒ¼çµ±ä¸€**: å…¨ãƒ†ãƒ¼ãƒ–ãƒ«`updated_at`è‡ªå‹•æ›´æ–°
4. âœ… **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½**: ã‚¿ãƒ–åˆ†å‰²è©³ç´°è¡¨ç¤ºæ©Ÿèƒ½å®Ÿè£…

### ğŸ“Š Phase 3: å°†æ¥æ‹¡å¼µè¨ˆç”» - **è¨ˆç”»æ¸ˆã¿**
1. **Phase 3Aå®Œäº†**: ã‚¹ã‚­ãƒ¼ãƒæœ€é©åŒ–ãƒ»ä¸è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å‰Šé™¤
2. **Phase 3Bè¨ˆç”»**: é«˜åº¦æœ€é©åŒ–ï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã€ãƒãƒ†ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ‰ãƒ“ãƒ¥ãƒ¼ç­‰ï¼‰
3. **ãƒ‡ãƒ¼ã‚¿ç§»è¡Œæ©Ÿèƒ½**: ãƒ†ã‚¹ãƒˆçµæœã®æœ¬ç•ªç§»è¡Œæ©Ÿèƒ½ï¼ˆè¨­è¨ˆå®Œäº†ï¼‰

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
- **master_data/tables.yml** - æœ¬ç•ªãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«

### SQLå®Ÿè£…
- **sql/unified_schema_rebuild.sql** - çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰ï¼ˆæœ€æ–°ï¼‰
- **sql/create_tables.sql** - æœ¬ç•ªãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆå‚è€ƒï¼‰
- **sql/create_ocr_test_tables.sql** - OCRãƒ†ã‚¹ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆå‚è€ƒï¼‰

### çµ±ä¸€åŒ–é–¢é€£
- **master_data/tables.yml** - çµ±ä¸€ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ãƒã‚¹ã‚¿ãƒ¼ï¼ˆSingle Source of Truthï¼‰
- **sql/verify_unified_schema.sql** - çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼
- **docs/ãƒ†ãƒ¼ãƒ–ãƒ«çµ±ä¸€åŒ–ä½œæ¥­ã‚µãƒãƒªãƒ¼.md** - çµ±ä¸€åŒ–ä½œæ¥­æˆæœ

### è¨­è¨ˆæ›¸
- [16_ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸.md](../16_ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ›¸.md) - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆçµ±åˆç‰ˆï¼ˆv3.0å¯¾å¿œï¼‰
- [13_Supabaseãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šãƒ»é‹ç”¨ã‚¬ã‚¤ãƒ‰.md](../13_Supabaseãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šãƒ»é‹ç”¨ã‚¬ã‚¤ãƒ‰.md) - çµ±ä¸€åŒ–é‹ç”¨ã‚¬ã‚¤ãƒ‰

---

**ä½œæˆæ—¥**: 2025å¹´1æœˆ24æ—¥  
**æœ€çµ‚æ›´æ–°**: 2025å¹´7æœˆ27æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0 - çµ±ä¸€ã‚¹ã‚­ãƒ¼ãƒå®Œå…¨å†æ§‹ç¯‰å®Œäº†ç‰ˆ  
**æ‹…å½“è€…**: ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒãƒ¼ãƒ   
**é‡è¦ãªå¤‰æ›´**: ğŸ‰ çµ±ä¸€åŒ–å®Œå…¨æˆåŠŸ - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Œå…¨æ•´åˆé”æˆ 