# è«‹æ±‚æ›¸å‡¦ç†è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ 

Pythonã¨Streamlitã§æ§‹ç¯‰ã•ã‚ŒãŸè«‹æ±‚æ›¸å‡¦ç†è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
invoice-processing-system/
â”œâ”€â”€ src/                          # ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ app/                      # Streamlitã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ main.py              # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ core/                     # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ models/              # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ services/            # ãƒ“ã‚¸ãƒã‚¹ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ workflows/           # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å‡¦ç†
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ infrastructure/          # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æº
â”‚   â”‚   â”œâ”€â”€ ai/                  # AI ã‚µãƒ¼ãƒ“ã‚¹ (Gemini API)
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini_helper.py
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth/                # èªè¨¼ (Google OAuth)
â”‚   â”‚   â”‚   â”œâ”€â”€ oauth_handler.py
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ database/            # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (Supabase)
â”‚   â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ storage/             # ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ (Google Drive)
â”‚   â”‚   â”‚   â”œâ”€â”€ google_drive_helper.py
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ utils/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ tests/                       # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ scripts/                     # é‹ç”¨ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ run_app.ps1
â”œâ”€â”€ sql/                         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ create_tables.sql
â”œâ”€â”€ docs/                        # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ config/                      # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .streamlit/                  # Streamlitè¨­å®š
â”œâ”€â”€ requirements.txt             # Pythonä¾å­˜é–¢ä¿‚
â””â”€â”€ app.py                       # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬èµ·å‹•
```bash
# PowerShellç’°å¢ƒã§ã®èµ·å‹•
.\run_app.ps1 --env dev

# ã¾ãŸã¯ç›´æ¥Streamlitèµ·å‹•
streamlit run app.py --server.port 8701
```

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ä»®æƒ³ç’°å¢ƒä½œæˆ
python -m venv venv

# ä»®æƒ³ç’°å¢ƒæœ‰åŠ¹åŒ– (Windows)
venv\Scripts\activate

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

## ğŸ”§ è¨­å®š

### å¿…è¦ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- `.streamlit/secrets.toml` - èªè¨¼æƒ…å ±ã¨APIã‚­ãƒ¼

è¨­å®šå†…å®¹ï¼š
- Google OAuthèªè¨¼æƒ…å ±
- Supabaseãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæƒ…å ±
- Gemini API ã‚­ãƒ¼
- Google Drive APIã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±

## ğŸ“‹ æ©Ÿèƒ½

- **PDFè«‹æ±‚æ›¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**
- **AIã«ã‚ˆã‚‹æƒ…å ±æŠ½å‡º** (Gemini API)
- **Google Driveé€£æº** (å…±æœ‰ãƒ‰ãƒ©ã‚¤ãƒ–å¯¾å¿œ)
- **Supabaseãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†**
- **Google OAuthèªè¨¼**

## ğŸ›ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 
- **App Layer** (`src/app/`) - UIãƒ»UXå±¤
- **Core Layer** (`src/core/`) - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
- **Infrastructure Layer** (`src/infrastructure/`) - å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹é€£æºå±¤
- **Utils Layer** (`src/utils/`) - å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å±¤

### è¨­è¨ˆåŸå‰‡
- **Clean Architecture** - ä¾å­˜é–¢ä¿‚ã®é€†è»¢
- **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ** - ç–çµåˆãƒ»é«˜å‡é›†
- **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£** - å˜ä½“ãƒ†ã‚¹ãƒˆå¯èƒ½ãªæ§‹é€ 

## ğŸ“š æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Frontend**: Streamlit
- **Backend**: Python
- **Database**: Supabase (PostgreSQL)
- **Storage**: Google Drive API
- **AI**: Google Gemini API  
- **Auth**: Google OAuth 2.0
- **Deploy**: Google Cloud Run

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- æ©Ÿå¯†æƒ…å ±ã¯ `.streamlit/secrets.toml` ã§ç®¡ç†
- `config/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ `*.json` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ Git é™¤å¤–
- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆèªè¨¼ã«ã‚ˆã‚‹å®‰å…¨ãªAPIé€£æº

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `/docs` - è¨­è¨ˆæ›¸ãƒ»ä»•æ§˜æ›¸
- å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® docstring - APIä»•æ§˜

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/

# çµ±åˆãƒ†ã‚¹ãƒˆ
streamlit run app.py
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8701 ã«ã‚¢ã‚¯ã‚»ã‚¹
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

æŠ€è¡“çš„ãªè³ªå•ã‚„å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒ¼ãƒ ã¾ã§ã”é€£çµ¡ãã ã•ã„ã€‚ 